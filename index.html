<!DOCTYPE html>
<html lang="ta">
<head>
  <meta charset="UTF-8" />
  <title>Meenakshi Finance - வட்டி கணக்கிடும் பயன்பாடு</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin: 0; font-family: Arial, sans-serif;
      background: #f2f2f2; color: #222;
      display: flex; justify-content: center; padding: 20px;
    }
    .container {
      width: 100%; max-width: 500px; background: white;
      padding: 20px; border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center; margin-bottom: 10px; font-size: 26px;
      color: #2c3e50;
    }
    h2 {
      text-align: center; margin-top: 0; font-size: 20px; color: #333;
    }
    label {
      font-weight: bold; font-size: 16px; display: block; margin-top: 15px;
    }
    input, select, button {
      width: 100%; padding: 12px; font-size: 16px;
      border: 1px solid #ccc; border-radius: 8px; margin-top: 5px;
    }
    button {
      background: #0066cc; color: white; border: none; margin-top: 20px;
      cursor: pointer; font-weight: bold; font-size: 18px;
    }
    button:hover { background: #004999; }
    .results {
      margin-top: 20px; padding: 15px;
      border: 1px solid #ccc; border-radius: 8px; background: #fafafa;
    }
    .kv { display: flex; justify-content: space-between; padding: 8px 0; font-size: 18px; }
    .highlight { font-size: 22px; font-weight: bold; color: #000; }
    .note { margin-top: 12px; font-size: 14px; color: #555; }
    .error { color: red; font-size: 14px; margin-top: 4px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Meenakshi Finance</h1>
    <h2>வட்டி கணக்கிடும் பயன்பாடு</h2>

    <label for="amount">தொகை</label>
    <input id="amount" type="number" placeholder="உதா: 10000" />
    <div id="errAmount" class="error"></div>

    <label for="rate">வட்டி விகிதம் (%)</label>
    <input id="rate" type="number" placeholder="உதா: 1" />
    <div id="errRate" class="error"></div>

    <label for="days">நாட்கள்</label>
    <input id="days" type="number" placeholder="உதா: 45" />
    <div id="errDays" class="error"></div>

    <label for="basis">வட்டி அடிப்படை</label>
    <select id="basis">
      <option value="perAnnum">ஒரு ஆண்டு (வருடாந்திர)</option>
      <option value="perMonth">ஒரு மாதம்</option>
      <option value="perDay">ஒரு நாள்</option>
    </select>

    <button id="btnCalc">கணக்கிடு</button>
    <button id="btnReset" type="button">மீட்டமை</button>

    <div class="results" id="results" style="display:none;">
      <div class="kv"><div>முதல்தொகை</div><div id="outPrincipalVal">—</div></div>
      <div class="kv"><div>வட்டி விகிதம்</div><div id="outRateVal">—</div></div>
      <div class="kv"><div>நாட்கள்</div><div id="outDaysVal">—</div></div>
      <div class="kv"><div>அடிப்படை</div><div id="outBasisVal">—</div></div>
      <div class="kv highlight"><div>வட்டி</div><div id="outInterestVal">—</div></div>
      <div class="kv highlight"><div>மொத்தம் (முதல்தொகை + வட்டி)</div><div id="outTotalVal">—</div></div>
    </div>

    <div class="note">
      மொத்தம் கணக்கிடும் முறை:  
      ஆண்டு → நாட்கள்/365.  
      மாதம் → நாட்கள்/30.  
      நாள் → நாட்கள் (வட்டி தினசரி).  
    </div>
  </div>

<script>
function calcInterest(principal, ratePct, days, basis){
  const p = Number(principal), r = Number(ratePct)/100, d = Number(days);
  let t = 0;
  if (basis === 'perAnnum') t = d / 365;   // always 365 days
  else if (basis === 'perMonth') t = d / 30;
  else t = d; // per day
  return p * r * t;
}

function formatINR(value){
  return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(value);
}

document.getElementById('btnCalc').addEventListener('click', ()=>{
  const amount = document.getElementById('amount').value;
  const rate = document.getElementById('rate').value;
  const days = document.getElementById('days').value;
  const basis = document.getElementById('basis').value;

  // Validation
  let valid = true;
  document.getElementById('errAmount').innerText = "";
  document.getElementById('errRate').innerText = "";
  document.getElementById('errDays').innerText = "";

  if(!amount || Number(amount) <= 0){
    document.getElementById('errAmount').innerText = "சரியான தொகையை உள்ளிடவும் (0-ஐ விட அதிகமாக).";
    valid = false;
  }
  if(rate === "" || Number(rate) < 0){
    document.getElementById('errRate').innerText = "சரியான விகிதத்தை உள்ளிடவும் (0 அல்லது அதற்கு மேல்).";
    valid = false;
  }
  if(days === "" || Number(days) < 0){
    document.getElementById('errDays').innerText = "சரியான நாட்களை உள்ளிடவும் (0 அல்லது அதற்கு மேல்).";
    valid = false;
  }

  if(!valid) return;

  const interest = calcInterest(amount, rate, days, basis);
  const total = Number(amount) + interest;

  document.getElementById('outPrincipalVal').innerText = formatINR(amount);
  document.getElementById('outRateVal').innerText = rate + "%";
  document.getElementById('outDaysVal').innerText = days;
  document.getElementById('outBasisVal').innerText = document.getElementById('basis').selectedOptions[0].text;
  document.getElementById('outInterestVal').innerText = formatINR(interest);
  document.getElementById('outTotalVal').innerText = formatINR(total);

  document.getElementById('results').style.display = 'block';
});

document.getElementById('btnReset').addEventListener('click', ()=>{
  document.getElementById('amount').value = "";
  document.getElementById('rate').value = "";
  document.getElementById('days').value = "";
  document.getElementById('basis').value = "perAnnum";
  document.getElementById('results').style.display = 'none';
  document.getElementById('errAmount').innerText = "";
  document.getElementById('errRate').innerText = "";
  document.getElementById('errDays').innerText = "";
});
</script>
</body>
</html>
